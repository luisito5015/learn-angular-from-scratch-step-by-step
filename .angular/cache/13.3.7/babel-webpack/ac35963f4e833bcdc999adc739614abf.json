{"ast":null,"code":"import _classCallCheck from \"/Users/luiscotto/Documents/Projects/CS-470/practice/lafs-web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/luiscotto/Documents/Projects/CS-470/practice/lafs-web/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar _a;\n\nimport { __decorate, __metadata, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport { QuestionsService } from '../../services/questions.service';\nimport { SlugifyPipe } from '../../shared/slugify.pipe';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nvar NewQuestionModalComponent = /*#__PURE__*/function () {\n  function NewQuestionModalComponent(questionsService, slugifyPipe, thisDialogRef, modalData) {\n    _classCallCheck(this, NewQuestionModalComponent);\n\n    this.questionsService = questionsService;\n    this.slugifyPipe = slugifyPipe;\n    this.thisDialogRef = thisDialogRef;\n    this.modalData = modalData;\n  }\n\n  _createClass(NewQuestionModalComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.questionForm = new FormGroup({\n        question: new FormControl('', Validators.required)\n      });\n    }\n  }, {\n    key: \"onCloseCancel\",\n    value: function onCloseCancel() {\n      this.thisDialogRef.close();\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(values) {\n      var _this = this;\n\n      var data = {};\n      data.question = values.question;\n      data.questionSlug = this.slugifyPipe.transform(values.question);\n      data.categorySlug = this.modalData.categorySlug; //create new question\n\n      this.questionsService.createQuestion(data).then(function (question) {\n        _this.thisDialogRef.close(question);\n\n        _this.questionForm.reset();\n      });\n    }\n  }]);\n\n  return NewQuestionModalComponent;\n}();\n\nNewQuestionModalComponent = __decorate([Component({\n  selector: 'new-question-modal',\n  templateUrl: './new-question-modal.component.html',\n  exportAs: 'newQuestionModal',\n  styleUrls: ['../../styles/modals.scss']\n}), __param(3, Inject(MAT_DIALOG_DATA)), __metadata(\"design:paramtypes\", [QuestionsService, SlugifyPipe, typeof (_a = typeof MatDialogRef !== \"undefined\" && MatDialogRef) === \"function\" ? _a : Object, Object])], NewQuestionModalComponent);\nexport { NewQuestionModalComponent };","map":null,"metadata":{},"sourceType":"module"}