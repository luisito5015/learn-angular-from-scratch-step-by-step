{"ast":null,"code":"import _classCallCheck from \"/Users/luiscotto/Documents/Projects/CS-470/practice/lafs-web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/luiscotto/Documents/Projects/CS-470/practice/lafs-web/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport { QuestionsService } from '../../services/questions.service';\nimport { SlugifyPipe } from '../../shared/slugify.pipe';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/questions.service\";\nimport * as i2 from \"../../shared/slugify.pipe\";\nimport * as i3 from \"@angular/material\";\nimport * as i4 from \"@angular/forms\";\nexport var NewQuestionModalComponent = /*#__PURE__*/(function () {\n  var NewQuestionModalComponent = /*#__PURE__*/function () {\n    function NewQuestionModalComponent(questionsService, slugifyPipe, thisDialogRef, modalData) {\n      _classCallCheck(this, NewQuestionModalComponent);\n\n      this.questionsService = questionsService;\n      this.slugifyPipe = slugifyPipe;\n      this.thisDialogRef = thisDialogRef;\n      this.modalData = modalData;\n    }\n\n    _createClass(NewQuestionModalComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.questionForm = new FormGroup({\n          question: new FormControl('', Validators.required)\n        });\n      }\n    }, {\n      key: \"onCloseCancel\",\n      value: function onCloseCancel() {\n        this.thisDialogRef.close();\n      }\n    }, {\n      key: \"onSubmit\",\n      value: function onSubmit(values) {\n        var _this = this;\n\n        var data = {};\n        data.question = values.question;\n        data.questionSlug = this.slugifyPipe.transform(values.question);\n        data.categorySlug = this.modalData.categorySlug; //create new question\n\n        this.questionsService.createQuestion(data).then(function (question) {\n          _this.thisDialogRef.close(question);\n\n          _this.questionForm.reset();\n        });\n      }\n    }]);\n\n    return NewQuestionModalComponent;\n  }();\n\n  NewQuestionModalComponent.ɵfac = function NewQuestionModalComponent_Factory(t) {\n    return new (t || NewQuestionModalComponent)(i0.ɵɵdirectiveInject(i1.QuestionsService), i0.ɵɵdirectiveInject(i2.SlugifyPipe), i0.ɵɵdirectiveInject(i3.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n  };\n\n  NewQuestionModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NewQuestionModalComponent,\n    selectors: [[\"new-question-modal\"]],\n    exportAs: [\"newQuestionModal\"],\n    decls: 11,\n    vars: 2,\n    consts: [[1, \"alert-modal\"], [1, \"alert-modal-title\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"rows\", \"3\", \"type\", \"text\", \"formControlName\", \"question\", 1, \"form-control\", \"form-input\"], [1, \"alert-modal-buttons\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"alert-modal-button\", \"alert-modal-button-success\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"type\", \"button\", 1, \"alert-modal-button\", \"alert-modal-button-failure\", 3, \"click\"]],\n    template: function NewQuestionModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n        i0.ɵɵtext(2, \"NEW QUESTION\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\")(4, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function NewQuestionModalComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onSubmit(ctx.questionForm.value);\n        });\n        i0.ɵɵelement(5, \"textarea\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"button\", 5);\n        i0.ɵɵtext(8, \"Ask\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function NewQuestionModalComponent_Template_button_click_9_listener() {\n          return ctx.onCloseCancel();\n        });\n        i0.ɵɵtext(10, \"Cancel\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.questionForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.questionForm.valid);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i3.MatButton],\n    styles: [\".alert-modal[_ngcontent-%COMP%]{min-width:300px}.alert-modal[_ngcontent-%COMP%]   .alert-modal-title[_ngcontent-%COMP%]{color:#4a4a4a;font-weight:300;text-align:center}.alert-modal[_ngcontent-%COMP%]   .alert-modal-text[_ngcontent-%COMP%]{color:#4a4a4a;display:block;text-align:center}.alert-modal[_ngcontent-%COMP%]   .alert-modal-buttons[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center}.alert-modal[_ngcontent-%COMP%]   .alert-modal-buttons[_ngcontent-%COMP%]   .alert-modal-button[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:40px;min-width:60px;font-weight:400;width:60%}.alert-modal[_ngcontent-%COMP%]   .alert-modal-buttons[_ngcontent-%COMP%]   .alert-modal-button.alert-modal-button-success[_ngcontent-%COMP%]{margin-right:10px}\"]\n  });\n  return NewQuestionModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}